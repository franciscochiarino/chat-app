{"version":3,"sources":["components/join/Join.js","components/infobar/InfoBar.js","components/input/Input.js","components/message/Message.js","components/messages/Messages.js","components/chat/Chat.js","components/app/App.js","index.js","icons/close.png"],"names":["Join","setName","useState","nameInput","setNameInput","className","onSubmit","e","length","alert","preventDefault","sessionStorage","setItem","htmlFor","required","type","placeholder","value","onChange","target","InfoBar","room","onClick","removeItem","window","location","src","closeBtn","alt","Input","text","setText","sendMessage","emojiWindow","setEmojiWindow","set","theme","style","fontFamily","onSelect","emoji","native","id","size","onKeyPress","key","minHeight","maxHeight","resize","Message","message","user","name","isSentByUser","trim","toLocaleUpperCase","substring","toLocaleLowerCase","Messages","messages","renderMessages","map","i","socket","io","Chat","chatWindow","setChatWindow","setMessages","useEffect","emit","error","reload","off","on","removeFirst","rest","App","setChatState","getItem","reactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.5a1dba61.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nexport default function Join({setName}) {\n  const [nameInput, setNameInput] = useState('');\n\n  const handleSubmit = e => {\n    if (nameInput.length > 15) {\n      return alert(`Please pick a name that's shorter than 15 characters.`)\n    }\n    e.preventDefault();\n    setName(nameInput);\n    sessionStorage.setItem('name', nameInput);\n  }\n\n  return (\n    <div className=\"Join\">\n      <h1>Welcome!</h1>\n      <form onSubmit={handleSubmit} className=\"join-form\">\n        <label htmlFor=\"name\">Choose your nickname:\n          <input required type=\"text\" placeholder=\"Name\" value={nameInput} onChange={(e) => setNameInput(e.target.value)} />\n        </label>\n        <button className=\"join-btn\" type=\"submit\">Join</button>\n      </form>\n    </div>\n  )\n}\n","import React from 'react';\nimport closeBtn from '../../icons/close.png'\n\nexport default function InfoBar({ room }) {\n\n  const handleCloseBtn = () => {\n    sessionStorage.removeItem('name');\n    window.location = '/';\n  }\n\n  return (\n    <div className=\"InfoBar\">\n      <h1>{room}</h1>\n      <img onClick={handleCloseBtn} src={closeBtn} className=\"close-chat-btn\" alt=\"close\" />\n    </div>\n  )\n}\n","import React, { useState } from 'react';\nimport 'emoji-mart/css/emoji-mart.css';\nimport { Picker, Emoji } from 'emoji-mart';\nimport TextareaAutosize from 'react-autosize-textarea';\n\nexport default function Input({ text, setText, sendMessage }) {\n  const [emojiWindow, setEmojiWindow] = useState(false);\n\n  const handleEmojiWindow = () => {\n    setEmojiWindow(!emojiWindow);\n  }\n\n  return (\n    <>\n      { emojiWindow ? \n        <Picker className=\"Picker\" set=\"apple\" theme=\"light\" style={{fontFamily: 'initial'}} onSelect={emoji => setText(text + ` ${emoji.native} `)} />\n      : null }\n      <div className=\"Input\">\n        <form onSubmit={sendMessage} className=\"chat-form\">\n          <button type=\"button\" className=\"emoji-btn\" onClick={handleEmojiWindow}><Emoji emoji={{ id: 'grinning'}} size={20} /></button>\n          {/* <input type=\"text\" placeholder=\"Type a message...\" value={text} onChange={(e) => setText(e.target.value)} /> */}\n          <TextareaAutosize className=\"textarea-autosize\" \n            onKeyPress={e => e.key === 'Enter' ? sendMessage(e) : null} \n            style={{ minHeight: 20, maxHeight: 70, resize: 'none' }} \n            placeholder=\"Type a message...\" \n            value={text} \n            onChange={(e) => setText(e.target.value)} />\n          <button type=\"submit\" onClick={() => setEmojiWindow(false)}>Send</button>\n        </form>\n      </div>\n    </>\n  )\n}\n","import React from 'react';\n\nexport default function Message({ message: { user, text }, name }) {\n  const trimmedUser = user.trim();\n  const sanitizedUser = trimmedUser[0].toLocaleUpperCase() + user.substring(1).toLocaleLowerCase();\n  const trimmedName = name.trim();\n  const sanitizedName = trimmedName[0].toLocaleUpperCase() + name.substring(1).toLocaleLowerCase();\n\n  let isSentByUser = false;\n\n  if (sanitizedUser === sanitizedName) {\n     isSentByUser = true;\n  }\n  \n  return (\n    isSentByUser\n    ? (\n      <div className=\"message-container justify-right\">\n        <div className=\"message-box bg-dark\">\n          <p className=\"message-text color-white\">{text}</p>\n        </div>\n      </div>\n    )\n    : (\n      <div className=\"message-container justify-left\">\n        <p className=\"sent-text\">{user}</p>\n        <div className=\"message-box bg-light\">\n          <p className=\"message-text color-black\">{text}</p>\n        </div>\n      </div>\n    )\n  )\n}\n","import React from 'react'\nimport ScrollToBottom from 'react-scroll-to-bottom';\nimport Message from '../message/Message';\n\nexport default function Messages({ messages, name }) {\n  const renderMessages = messages.map((message, i) => {\n    return(\n      <div key={i}>\n        <Message message={message} name={name} />\n      </div>\n    )\n  })\n  return (\n    // <div >\n      <ScrollToBottom className=\"Messages\" >\n        {renderMessages}\n      </ScrollToBottom>\n    // </div>\n    \n  )\n}\n","import React, { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport InfoBar from '../infobar/InfoBar';\nimport Input from '../input/Input';\nimport Messages from '../messages/Messages';\n\nconst socket = io();\n\nexport default function Chat({ name, room, chatWindow, setChatWindow }) {\n  const [text, setText] = useState('');\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n\n    // Emit JOIN\n    socket.emit('join', {name, room}, (error) => {\n      if (error) {\n        sessionStorage.removeItem('name');\n        alert(error);\n        window.location.reload()\n      }\n    });\n\n    return () => {\n      // Emit DISCONNECT\n      socket.emit('disconnect');\n      // Turn off this socket\n      socket.off();\n    }\n  }, [name, room])\n\n  useEffect(() => {\n    // Recieve MESSAGE\n    socket.on('message', (message) => {\n      setMessages((messages) => [...messages, message]);\n    })\n  }, []);\n\n  const sendMessage = e => {\n    e.preventDefault();\n    if (text) {\n      // Emit SENDMESSAGE\n      socket.emit('sendMessage', text, () => {\n        setText('');\n      })\n    }\n    if (messages.length >= 50) {\n      removeFirst();\n    } \n  };\n\n  const removeFirst = () => {\n    const [first, ...rest] = messages;\n    return setMessages(rest);\n  };\n\n  return (\n    <div className=\"outer-container\">\n      <div className=\"inner-container\">\n        <InfoBar room={room} chatWindow={chatWindow} setChatWindow={setChatWindow} />\n        <Messages messages={messages} name={name} />\n        <Input text={text} setText={setText} sendMessage={sendMessage} />\n      </div>\n    </div>\n  )\n}\n","\nimport React, { useEffect, useState } from 'react';\nimport '../../main.scss';\nimport Join from '../join/Join';\nimport Chat from '../chat/Chat';\n\nexport default function App({ setChatState, location }) {\n  const [name, setName] = useState('');\n  const [chatWindow, setChatWindow] = useState('chat-app-chat')\n  const room = 'Chat App';\n\n  useEffect(() => {\n    const name = sessionStorage.getItem('name');\n    if (name) {\n      setName(name);\n    }\n  }, [name])\n\n  return (\n    name\n      ? (\n        <div className={`App ${chatWindow}`}>\n          <Chat name={name} setName={setName} room={room} chatWindow={chatWindow} setChatWindow={setChatWindow} />\n        </div>\n      )\n      : (\n        <div className=\"App chat-app-join\">\n          <Join setName={setName} />\n        </div>\n      )\n  );\n}\n","\nimport React from \"react\"\nimport App from \"./components/app/App\"\nimport reactDOM from \"react-dom\"\n\nreactDOM.render(<App/>,document.getElementById(\"root\"))","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABR1BMVEUAAADISUnGSkjHSkjHSknHSknHSknHS0nIS0jETk7JSkrIS0nHSknHSkrITEzGVVXHS0nHSknISkq/QEDHSknHSkm8Q0PGSUm+RUS1PDyyPz+zQEDHSkqpOjq2SUmuPDy0Pz+uPDutQECzPj6uOzuqOzrHSkmoODjHSkmrOzuwPT2xPz2/QEDHSkmnNze5OjqvPTy4Q0OwPT2rOjqxOzu6RUW9RUSoOTm1Pj6qOjm1QUGrPj6qOTmsOzu8PT2lPDyvPDyzPj6rOjqrOzqvPT20Pz/HSknCR0awPTzASEeoQ0KvREPGSkm8RESlNzeoQkKZPz+pQkLFSEeuRESvRESsOzqmNzepQ0KnQkGnQ0KxPT2zPj61QD+0Pz+sOzvFSUi8REOmODivPT27REPBR0bESEepOTmqOjnCR0ezPz+1Pz+xPj4AAACqV/5tAAAARnRSTlMADlmbyur6mlgNJp31nCUJjPuKCNPHJjHqWfM80PcVyT3XHJDX8+v9+fPVjQz0/hbVPcTyDSXp/C37Tzr18SoR1ZHz89WOLzqPhAAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfkBxcRFzgOirVNAAABjUlEQVQ4y32TZ1/CMBDGI1sZIogKDoYIThDEvVcopRxFlgMZgvv7vzdt6KT4vGl/939yuVwuCMmaMJktVpvNarE7JtGoppwuLMvl9ujwtHcGa2Tz+dXcM4tHFJhT+LwVG2ghKK835BiHFin3LxlznF9eEQ1ePE5MWDwfrb/AFjkJcEW2IHxLECEGJw2WeZ4dOjiW5yvCzwNESf+G/anykkPgfE0M1hsxZJLyNkn4kTi4J9mKn2EVmbHWoeb4BeLIIhvE1Cyr4rgFayihOpaQQ83xKyTROtY7FE5qAI1B3F+sdKg2MST0XOXoANnivyK7ABvIrllPUFPJwQBsIoeOKx3D+R7AFtreoYaittVV8vMGkEoj5B53WX0A2BXmyUavu1xTrrtaKeBBgxgywkD4DIfl/YPwLB25gAEffBK+l6NDuX8wwvtC/sMjaayDoS8NzpP6AY5PlIdxesaUOlJ/u0xP4OcX6qd1GQaoM9+tn982UGVzutcZiTZAVuoqY/C+Y9fxmyT0krd392kl+gdxouOTHBASLAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNy0yM1QxNzoyMzo1NiswMDowMMNBFz4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDctMjNUMTc6MjM6NTYrMDA6MDCyHK+CAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\""],"sourceRoot":""}